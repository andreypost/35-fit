{"version":3,"file":"134.bundle.js","mappings":"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","sources":["webpack://35-fit/./src/components/HeaderBanner.tsx","webpack://35-fit/./node_modules/react-firebase-hooks/firestore/dist/index.esm.js","webpack://35-fit/./src/views/Chat.tsx"],"sourcesContent":["import { useEffect } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport styled from 'styled-components'\nimport { useAppDispatch } from 'utils/hooks'\nimport { unsetAllModal } from 'utils/modal.slice'\nimport { CHTDCLProps } from 'types/interface'\n\nconst Div = styled.div`\n  section {\n    padding-top: 144px;\n  }\n\n  h1 {\n    font-size: 36px;\n    margin-bottom: 40px;\n  }\n\n  p {\n    max-width: 400px;\n    font-size: 18px;\n    padding-bottom: 70px;\n  }\n\n  &.main h1 {\n    margin-bottom: 120px;\n    text-transform: uppercase;\n    text-align: center;\n    @media (min-width: 1024px) {\n      margin-bottom: 210px;\n    }\n  }\n\n  @media (max-width: 1023px) {\n    section {\n      h3 {\n        font-size: 16px;\n      }\n    }\n  }\n\n  @media (min-width: 1024px) {\n    section {\n      padding-top: 170px;\n      h1 {\n        font-size: 48px;\n      }\n      h3 {\n        padding-bottom: 140px;\n      }\n    }\n  }\n`\n\nexport const HeaderBanner = ({\n  children,\n  className,\n  title,\n  descript,\n}: CHTDCLProps) => {\n  const dispatch = useAppDispatch(),\n    { t } = useTranslation()\n\n  const keyDownHandler = (e: { key: string }) => {\n    e.key === 'Escape' && dispatch(unsetAllModal())\n  }\n\n  useEffect(() => {\n    window.scrollTo(0, 0)\n    document.addEventListener('keydown', (e) => keyDownHandler(e))\n    return () => {\n      document.removeEventListener('keydown', keyDownHandler)\n      dispatch(unsetAllModal())\n    }\n  }, [])\n\n  return (\n    <Div className={`header_banner ${className}`}>\n      <section className=\"section\">\n        <h1 className=\"b900 blue\">{t(title)}</h1>\n        {descript && <p className=\"grey\">{t(descript)}</p>}\n        {children}\n      </section>\n    </Div>\n  )\n}\n","import { useMemo, useReducer, useEffect, useRef } from 'react';\n\nvar snapshotToData = function (snapshot, snapshotOptions, idField, refField, transform) {\r\n    if (!snapshot.exists) {\r\n        return undefined;\r\n    }\r\n    var data = snapshot.data(snapshotOptions);\r\n    if (transform) {\r\n        data = transform(data);\r\n    }\r\n    if (idField) {\r\n        data[idField] = snapshot.id;\r\n    }\r\n    if (refField) {\r\n        data[refField] = snapshot.ref;\r\n    }\r\n    return data;\r\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar defaultState = function (defaultValue) {\r\n    return {\r\n        loading: defaultValue === undefined || defaultValue === null,\r\n        value: defaultValue,\r\n    };\r\n};\r\nvar reducer = function () { return function (state, action) {\r\n    switch (action.type) {\r\n        case 'error':\r\n            return __assign({}, state, { error: action.error, loading: false, value: undefined });\r\n        case 'reset':\r\n            return defaultState(action.defaultValue);\r\n        case 'value':\r\n            return __assign({}, state, { error: undefined, loading: false, value: action.value });\r\n        default:\r\n            return state;\r\n    }\r\n}; };\r\nvar useLoadingValue = (function (getDefaultValue) {\r\n    var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n    var _a = useReducer(reducer(), defaultState(defaultValue)), state = _a[0], dispatch = _a[1];\r\n    var reset = function () {\r\n        var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n        dispatch({ type: 'reset', defaultValue: defaultValue });\r\n    };\r\n    var setError = function (error) {\r\n        dispatch({ type: 'error', error: error });\r\n    };\r\n    var setValue = function (value) {\r\n        dispatch({ type: 'value', value: value });\r\n    };\r\n    return useMemo(function () { return ({\r\n        error: state.error,\r\n        loading: state.loading,\r\n        reset: reset,\r\n        setError: setError,\r\n        setValue: setValue,\r\n        value: state.value,\r\n    }); }, [state.error, state.loading, reset, setError, setValue, state.value]);\r\n});\n\nvar useComparatorRef = function (value, isEqual, onChange) {\r\n    var ref = useRef(value);\r\n    useEffect(function () {\r\n        if (!isEqual(value, ref.current)) {\r\n            ref.current = value;\r\n            if (onChange) {\r\n                onChange();\r\n            }\r\n        }\r\n    });\r\n    return ref;\r\n};\r\nvar isEqual = function (v1, v2) {\r\n    var bothNull = !v1 && !v2;\r\n    var equal = !!v1 && !!v2 && v1.isEqual(v2);\r\n    return bothNull || equal;\r\n};\r\nvar useIsEqualRef = function (value, onChange) {\r\n    return useComparatorRef(value, isEqual, onChange);\r\n};\n\nvar useCollection = function (query, options) {\r\n    return useCollectionInternal(true, query, options);\r\n};\r\nvar useCollectionOnce = function (query, options) {\r\n    return useCollectionInternal(false, query, options);\r\n};\r\nvar useCollectionData = function (query, options) {\r\n    return useCollectionDataInternal(true, query, options);\r\n};\r\nvar useCollectionDataOnce = function (query, options) {\r\n    return useCollectionDataInternal(false, query, options);\r\n};\r\nvar useCollectionInternal = function (listen, query, options) {\r\n    var _a = useLoadingValue(), error = _a.error, loading = _a.loading, reset = _a.reset, setError = _a.setError, setValue = _a.setValue, value = _a.value;\r\n    var ref = useIsEqualRef(query, reset);\r\n    useEffect(function () {\r\n        if (!ref.current) {\r\n            setValue(undefined);\r\n            return;\r\n        }\r\n        if (listen) {\r\n            var listener_1 = options && options.snapshotListenOptions\r\n                ? ref.current.onSnapshot(options.snapshotListenOptions, setValue, setError)\r\n                : ref.current.onSnapshot(setValue, setError);\r\n            return function () {\r\n                listener_1();\r\n            };\r\n        }\r\n        else {\r\n            ref.current\r\n                .get(options ? options.getOptions : undefined)\r\n                .then(setValue)\r\n                .catch(setError);\r\n        }\r\n    }, [ref.current]);\r\n    var resArray = [\r\n        value,\r\n        loading,\r\n        error,\r\n    ];\r\n    return useMemo(function () { return resArray; }, resArray);\r\n};\r\nvar useCollectionDataInternal = function (listen, query, options) {\r\n    var idField = options ? options.idField : undefined;\r\n    var refField = options ? options.refField : undefined;\r\n    var snapshotOptions = options ? options.snapshotOptions : undefined;\r\n    var transform = options ? options.transform : undefined;\r\n    var _a = useCollectionInternal(listen, query, options), snapshots = _a[0], loading = _a[1], error = _a[2];\r\n    var values = useMemo(function () {\r\n        return (snapshots\r\n            ? snapshots.docs.map(function (doc) {\r\n                return snapshotToData(doc, snapshotOptions, idField, refField, transform);\r\n            })\r\n            : options && options.initialValue);\r\n    }, [snapshots, snapshotOptions, idField, refField, transform]);\r\n    var resArray = [\r\n        values,\r\n        loading,\r\n        error,\r\n    ];\r\n    return useMemo(function () { return resArray; }, resArray);\r\n};\n\nvar useDocument = function (docRef, options) {\r\n    return useDocumentInternal(true, docRef, options);\r\n};\r\nvar useDocumentOnce = function (docRef, options) {\r\n    return useDocumentInternal(false, docRef, options);\r\n};\r\nvar useDocumentData = function (docRef, options) {\r\n    return useDocumentDataInternal(true, docRef, options);\r\n};\r\nvar useDocumentDataOnce = function (docRef, options) {\r\n    return useDocumentDataInternal(false, docRef, options);\r\n};\r\nvar useDocumentInternal = function (listen, docRef, options) {\r\n    var _a = useLoadingValue(), error = _a.error, loading = _a.loading, reset = _a.reset, setError = _a.setError, setValue = _a.setValue, value = _a.value;\r\n    var ref = useIsEqualRef(docRef, reset);\r\n    useEffect(function () {\r\n        if (!ref.current) {\r\n            setValue(undefined);\r\n            return;\r\n        }\r\n        if (listen) {\r\n            var listener_1 = options && options.snapshotListenOptions\r\n                ? ref.current.onSnapshot(options.snapshotListenOptions, setValue, setError)\r\n                : ref.current.onSnapshot(setValue, setError);\r\n            return function () {\r\n                listener_1();\r\n            };\r\n        }\r\n        else {\r\n            ref.current\r\n                .get(options ? options.getOptions : undefined)\r\n                .then(setValue)\r\n                .catch(setError);\r\n        }\r\n    }, [ref.current]);\r\n    var resArray = [\r\n        value,\r\n        loading,\r\n        error,\r\n    ];\r\n    return useMemo(function () { return resArray; }, resArray);\r\n};\r\nvar useDocumentDataInternal = function (listen, docRef, options) {\r\n    var idField = options ? options.idField : undefined;\r\n    var refField = options ? options.refField : undefined;\r\n    var snapshotOptions = options ? options.snapshotOptions : undefined;\r\n    var transform = options ? options.transform : undefined;\r\n    var _a = useDocumentInternal(listen, docRef, options), snapshot = _a[0], loading = _a[1], error = _a[2];\r\n    var value = useMemo(function () {\r\n        return (snapshot\r\n            ? snapshotToData(snapshot, snapshotOptions, idField, refField, transform)\r\n            : options && options.initialValue);\r\n    }, [snapshot, snapshotOptions, idField, refField, transform]);\r\n    var resArray = [\r\n        value,\r\n        loading,\r\n        error,\r\n    ];\r\n    return useMemo(function () { return resArray; }, resArray);\r\n};\n\nexport { useCollection, useCollectionOnce, useCollectionData, useCollectionDataOnce, useDocument, useDocumentData, useDocumentOnce, useDocumentDataOnce };\n","import { Fragment, useContext, useEffect, useState, useRef } from 'react'\nimport { UserType } from 'types/interface'\n// import { useTranslation } from 'react-i18next'\nimport { HeaderBanner } from 'HeaderBanner'\nimport { Spinner } from 'Spinner'\nimport { FirebaseAuthContext } from '../index'\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\n\ninterface canvasProps {\n  width: string\n  height: string\n  border: string\n}\n\nconst Canvas = ({ width, height, border }: canvasProps) => {\n  const contexRef = useRef<HTMLCanvasElement | null>(null)\n  const handleContexLine = (e: any) => {\n    const canvas = contexRef.current\n    const ctx = canvas?.getContext('2d')\n    ctx?.lineTo(e.clientX, e.clientY)\n    ctx?.stroke()\n    // context?.beginPath()\n    // context?.arc(95, 50, 40, 0, 2 * Math.PI)\n    // context?.fill()\n  }\n  const submitBlobData = async () => {\n    const canvas = contexRef.current\n    const imageBlob: any = await new Promise((resolve) =>\n      canvas?.toBlob(resolve, 'image/png')\n    )\n    const formData = new FormData()\n    formData.append('image', imageBlob, 'image.png')\n    for (const d of formData) {\n      console.log(d, imageBlob)\n    }\n  }\n  return (\n    <>\n      <canvas\n        width={width}\n        height={height}\n        style={{ border }}\n        ref={contexRef}\n        onMouseMove={handleContexLine}\n      />\n      <input type=\"button\" value=\"send blob data\" onClick={submitBlobData} />\n    </>\n  )\n}\n\nconst Chat = ({ user }: UserType) => {\n  // const { t } = useTranslation()\n  const { firebase, firestore } = useContext(FirebaseAuthContext)\n  const [chatMessage, setChatMessage] = useState('')\n  const [messages, loading] = useCollectionData(\n    firestore.collection('messages').orderBy('createdAt')\n  )\n\n  const handleSendChatMessage = async (e: { preventDefault: () => void }) => {\n    e.preventDefault()\n    console.log(chatMessage)\n    firestore.collection('messages').add({\n      uid: user?.uid,\n      displayName: user?.displayName,\n      photoUrl: user?.photoURL,\n      text: chatMessage,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n    })\n    setChatMessage('')\n  }\n  if (loading) <Spinner />\n\n  useEffect(() => {\n    const sum = (a: number) => {\n      let cs = a\n      const f = (b: number) => {\n        cs += b\n        return f\n      }\n      f.toString = () => {\n        return cs\n      }\n      return f\n    }\n    console.log(sum(2)(3)(-2)(26))\n  }, [])\n  return (\n    <>\n      <HeaderBanner>\n        <Canvas width=\"100%\" height=\"250px\" border=\"1px solid red\" />\n        <></>\n      </HeaderBanner>\n      <h1>Chat</h1>\n      <div>\n        {messages?.map((item) => (\n          <Fragment key={item.text}>\n            <img src={item.photoUrl} alt=\"\" style={{ borderRadius: '50%' }} />\n            <p>\n              {item.text} - {item.displayName}\n            </p>\n          </Fragment>\n        ))}\n      </div>\n      <form action=\"\" id=\"chatForm\" onSubmit={handleSendChatMessage}>\n        <textarea\n          name=\"\"\n          id=\"\"\n          onChange={(e) => setChatMessage(e.target.value)}\n          value={chatMessage}\n          required\n        />\n        <button type=\"submit\">send</button>\n      </form>\n    </>\n  )\n}\nexport default Chat\n"],"names":["Div","styled","div","_templateObject","_taggedTemplateLiteral","HeaderBanner","_ref","children","className","title","descript","dispatch","useAppDispatch","t","useTranslation","keyDownHandler","e","key","unsetAllModal","useEffect","window","scrollTo","document","addEventListener","removeEventListener","_jsx","concat","_jsxs","__assign","Object","assign","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","defaultState","defaultValue","loading","value","isEqual","v1","v2","bothNull","equal","useCollectionInternal","listen","query","options","_a","getDefaultValue","undefined","useReducer","state","action","type","error","reset","setError","setValue","useMemo","useLoadingValue","ref","onChange","useRef","current","useComparatorRef","useIsEqualRef","listener_1","snapshotListenOptions","onSnapshot","get","getOptions","then","catch","resArray","Canvas","width","height","border","contexRef","submitBlobData","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","canvas","imageBlob","formData","_iterator","_step","d","_context","prev","next","Promise","resolve","toBlob","sent","FormData","append","_createForOfIteratorHelper","done","console","log","err","f","stop","_Fragment","style","onMouseMove","ctx","getContext","lineTo","clientX","clientY","stroke","onClick","_ref3","user","_useContext","useContext","FirebaseAuthContext","firebase","firestore","_useState","useState","_useState2","_slicedToArray","chatMessage","setChatMessage","_useCollectionData","idField","refField","snapshotOptions","transform","snapshots","docs","map","doc","snapshot","exists","data","id","snapshotToData","initialValue","useCollectionDataInternal","collection","orderBy","_useCollectionData2","messages","handleSendChatMessage","_ref4","_callee2","_context2","preventDefault","add","uid","displayName","photoUrl","photoURL","text","createdAt","FieldValue","serverTimestamp","_x","Spinner","cs","b","toString","sum","item","Fragment","src","alt","borderRadius","onSubmit","name","target","required"],"sourceRoot":""}