{"version":3,"file":"187.bundle.js","mappings":"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","sources":["webpack://35-fit/./src/components/HeaderBanner.tsx","webpack://35-fit/./node_modules/react-firebase-hooks/firestore/dist/index.esm.js","webpack://35-fit/./src/views/Chat.tsx"],"sourcesContent":["import { useEffect } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport styled from 'styled-components'\r\nimport { useAppDispatch } from 'utils/hooks'\r\nimport { unsetAllModal } from 'modals/modal.slice'\r\nimport { CHTDCLProps } from 'types/interface'\r\n\r\nconst Div = styled.div`\r\n  section {\r\n    padding-top: 144px;\r\n  }\r\n\r\n  h1 {\r\n    font-size: 36px;\r\n    margin-bottom: 40px;\r\n  }\r\n\r\n  p {\r\n    max-width: 400px;\r\n    font-size: 18px;\r\n    padding-bottom: 70px;\r\n  }\r\n  \r\n  &.main h1 {\r\n    margin-bottom: 120px;\r\n    text-transform: uppercase;\r\n    text-align: center;\r\n    @media (min-width: 993px) {\r\n      margin-bottom: 210px;\r\n    }\r\n  }\r\n  \r\n  @media (max-width: 992px) {\r\n    section {\r\n      h3 {\r\n        font-size: 16px;\r\n      }\r\n    }\r\n  }\r\n  \r\n  @media (min-width: 993px) {\r\n    section {\r\n      padding-top: 170px;\r\n      h1 {\r\n        font-size: 48px;\r\n      }\r\n      h3 {\r\n        padding-bottom: 140px;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const HeaderBanner = ({ children, className, title, descript }: CHTDCLProps) => {\r\n  const dispatch = useAppDispatch(),\r\n    { t } = useTranslation()\r\n\r\n  const keyDownHandler = (e: { key: string }) => {\r\n    (e.key === 'Escape') && dispatch(unsetAllModal())\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n    document.addEventListener('keydown', e => keyDownHandler(e))\r\n    return () => {\r\n      document.removeEventListener('keydown', keyDownHandler)\r\n      dispatch(unsetAllModal())\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <Div className={`header_banner ${className}`}>\r\n      <section className=\"section\">\r\n        <h1 className='b900 blue'>{t(title)}</h1>\r\n        {descript && <p className='grey'>{t(descript)}</p>}\r\n        {children}\r\n      </section>\r\n    </Div>\r\n  )\r\n}\r\n","import { useMemo, useReducer, useEffect, useRef } from 'react';\n\nvar snapshotToData = function (snapshot, snapshotOptions, idField, refField, transform) {\r\n    if (!snapshot.exists) {\r\n        return undefined;\r\n    }\r\n    var data = snapshot.data(snapshotOptions);\r\n    if (transform) {\r\n        data = transform(data);\r\n    }\r\n    if (idField) {\r\n        data[idField] = snapshot.id;\r\n    }\r\n    if (refField) {\r\n        data[refField] = snapshot.ref;\r\n    }\r\n    return data;\r\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar defaultState = function (defaultValue) {\r\n    return {\r\n        loading: defaultValue === undefined || defaultValue === null,\r\n        value: defaultValue,\r\n    };\r\n};\r\nvar reducer = function () { return function (state, action) {\r\n    switch (action.type) {\r\n        case 'error':\r\n            return __assign({}, state, { error: action.error, loading: false, value: undefined });\r\n        case 'reset':\r\n            return defaultState(action.defaultValue);\r\n        case 'value':\r\n            return __assign({}, state, { error: undefined, loading: false, value: action.value });\r\n        default:\r\n            return state;\r\n    }\r\n}; };\r\nvar useLoadingValue = (function (getDefaultValue) {\r\n    var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n    var _a = useReducer(reducer(), defaultState(defaultValue)), state = _a[0], dispatch = _a[1];\r\n    var reset = function () {\r\n        var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n        dispatch({ type: 'reset', defaultValue: defaultValue });\r\n    };\r\n    var setError = function (error) {\r\n        dispatch({ type: 'error', error: error });\r\n    };\r\n    var setValue = function (value) {\r\n        dispatch({ type: 'value', value: value });\r\n    };\r\n    return useMemo(function () { return ({\r\n        error: state.error,\r\n        loading: state.loading,\r\n        reset: reset,\r\n        setError: setError,\r\n        setValue: setValue,\r\n        value: state.value,\r\n    }); }, [state.error, state.loading, reset, setError, setValue, state.value]);\r\n});\n\nvar useComparatorRef = function (value, isEqual, onChange) {\r\n    var ref = useRef(value);\r\n    useEffect(function () {\r\n        if (!isEqual(value, ref.current)) {\r\n            ref.current = value;\r\n            if (onChange) {\r\n                onChange();\r\n            }\r\n        }\r\n    });\r\n    return ref;\r\n};\r\nvar isEqual = function (v1, v2) {\r\n    var bothNull = !v1 && !v2;\r\n    var equal = !!v1 && !!v2 && v1.isEqual(v2);\r\n    return bothNull || equal;\r\n};\r\nvar useIsEqualRef = function (value, onChange) {\r\n    return useComparatorRef(value, isEqual, onChange);\r\n};\n\nvar useCollection = function (query, options) {\r\n    return useCollectionInternal(true, query, options);\r\n};\r\nvar useCollectionOnce = function (query, options) {\r\n    return useCollectionInternal(false, query, options);\r\n};\r\nvar useCollectionData = function (query, options) {\r\n    return useCollectionDataInternal(true, query, options);\r\n};\r\nvar useCollectionDataOnce = function (query, options) {\r\n    return useCollectionDataInternal(false, query, options);\r\n};\r\nvar useCollectionInternal = function (listen, query, options) {\r\n    var _a = useLoadingValue(), error = _a.error, loading = _a.loading, reset = _a.reset, setError = _a.setError, setValue = _a.setValue, value = _a.value;\r\n    var ref = useIsEqualRef(query, reset);\r\n    useEffect(function () {\r\n        if (!ref.current) {\r\n            setValue(undefined);\r\n            return;\r\n        }\r\n        if (listen) {\r\n            var listener_1 = options && options.snapshotListenOptions\r\n                ? ref.current.onSnapshot(options.snapshotListenOptions, setValue, setError)\r\n                : ref.current.onSnapshot(setValue, setError);\r\n            return function () {\r\n                listener_1();\r\n            };\r\n        }\r\n        else {\r\n            ref.current\r\n                .get(options ? options.getOptions : undefined)\r\n                .then(setValue)\r\n                .catch(setError);\r\n        }\r\n    }, [ref.current]);\r\n    var resArray = [\r\n        value,\r\n        loading,\r\n        error,\r\n    ];\r\n    return useMemo(function () { return resArray; }, resArray);\r\n};\r\nvar useCollectionDataInternal = function (listen, query, options) {\r\n    var idField = options ? options.idField : undefined;\r\n    var refField = options ? options.refField : undefined;\r\n    var snapshotOptions = options ? options.snapshotOptions : undefined;\r\n    var transform = options ? options.transform : undefined;\r\n    var _a = useCollectionInternal(listen, query, options), snapshots = _a[0], loading = _a[1], error = _a[2];\r\n    var values = useMemo(function () {\r\n        return (snapshots\r\n            ? snapshots.docs.map(function (doc) {\r\n                return snapshotToData(doc, snapshotOptions, idField, refField, transform);\r\n            })\r\n            : undefined);\r\n    }, [snapshots, snapshotOptions, idField, refField, transform]);\r\n    var resArray = [\r\n        values,\r\n        loading,\r\n        error,\r\n    ];\r\n    return useMemo(function () { return resArray; }, resArray);\r\n};\n\nvar useDocument = function (docRef, options) {\r\n    return useDocumentInternal(true, docRef, options);\r\n};\r\nvar useDocumentOnce = function (docRef, options) {\r\n    return useDocumentInternal(false, docRef, options);\r\n};\r\nvar useDocumentData = function (docRef, options) {\r\n    return useDocumentDataInternal(true, docRef, options);\r\n};\r\nvar useDocumentDataOnce = function (docRef, options) {\r\n    return useDocumentDataInternal(false, docRef, options);\r\n};\r\nvar useDocumentInternal = function (listen, docRef, options) {\r\n    var _a = useLoadingValue(), error = _a.error, loading = _a.loading, reset = _a.reset, setError = _a.setError, setValue = _a.setValue, value = _a.value;\r\n    var ref = useIsEqualRef(docRef, reset);\r\n    useEffect(function () {\r\n        if (!ref.current) {\r\n            setValue(undefined);\r\n            return;\r\n        }\r\n        if (listen) {\r\n            var listener_1 = options && options.snapshotListenOptions\r\n                ? ref.current.onSnapshot(options.snapshotListenOptions, setValue, setError)\r\n                : ref.current.onSnapshot(setValue, setError);\r\n            return function () {\r\n                listener_1();\r\n            };\r\n        }\r\n        else {\r\n            ref.current\r\n                .get(options ? options.getOptions : undefined)\r\n                .then(setValue)\r\n                .catch(setError);\r\n        }\r\n    }, [ref.current]);\r\n    var resArray = [\r\n        value,\r\n        loading,\r\n        error,\r\n    ];\r\n    return useMemo(function () { return resArray; }, resArray);\r\n};\r\nvar useDocumentDataInternal = function (listen, docRef, options) {\r\n    var idField = options ? options.idField : undefined;\r\n    var refField = options ? options.refField : undefined;\r\n    var snapshotOptions = options ? options.snapshotOptions : undefined;\r\n    var transform = options ? options.transform : undefined;\r\n    var _a = useDocumentInternal(listen, docRef, options), snapshot = _a[0], loading = _a[1], error = _a[2];\r\n    var value = useMemo(function () {\r\n        return (snapshot\r\n            ? snapshotToData(snapshot, snapshotOptions, idField, refField, transform)\r\n            : undefined);\r\n    }, [snapshot, snapshotOptions, idField, refField, transform]);\r\n    var resArray = [\r\n        value,\r\n        loading,\r\n        error,\r\n    ];\r\n    return useMemo(function () { return resArray; }, resArray);\r\n};\n\nexport { useCollection, useCollectionOnce, useCollectionData, useCollectionDataOnce, useDocument, useDocumentData, useDocumentOnce, useDocumentDataOnce };\n","import { Fragment, useContext, useEffect, useState, useRef } from 'react'\r\n// import { useTranslation } from 'react-i18next'\r\nimport { HeaderBanner } from 'HeaderBanner'\r\nimport { Spinner } from 'Spinner'\r\nimport { FirebaseAuthContext } from '../index'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\r\n\r\ninterface canvasProps {\r\n  width: string\r\n  height: string\r\n  border: string\r\n}\r\n\r\nconst Canvas = ({ width, height, border }: canvasProps) => {\r\n  const contexRef = useRef<HTMLCanvasElement | null>(null)\r\n  const handleContexLine = (e: any) => {\r\n    const canvas = contexRef.current\r\n    const ctx = canvas?.getContext('2d')\r\n    ctx?.lineTo(e.clientX, e.clientY)\r\n    ctx?.stroke()\r\n    // context?.beginPath()\r\n    // context?.arc(95, 50, 40, 0, 2 * Math.PI)\r\n    // context?.fill()\r\n  }\r\n  const submitBlobData = async () => {\r\n    const canvas = contexRef.current\r\n    const imageBlob: any = await new Promise((resolve) =>\r\n      canvas?.toBlob(resolve, 'image/png'),\r\n    )\r\n    const formData = new FormData()\r\n    formData.append('image', imageBlob, 'image.png')\r\n    for (const d of formData) {\r\n      console.log(d, imageBlob)\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <canvas\r\n        width={width}\r\n        height={height}\r\n        style={{ border }}\r\n        ref={contexRef}\r\n        onMouseMove={handleContexLine}\r\n      />\r\n      <input type=\"button\" value=\"send blob data\" onClick={submitBlobData} />\r\n    </>\r\n  )\r\n}\r\n\r\nconst Chat = ({ user }) => {\r\n  // const { t } = useTranslation()\r\n  const { firebase, firestore } = useContext(FirebaseAuthContext)\r\n  const [chatMessage, setChatMessage] = useState('')\r\n  const [messages, loading] = useCollectionData(\r\n    firestore.collection('messages').orderBy('createdAt'),\r\n  )\r\n\r\n  const handleSendChatMessage = async (e: { preventDefault: () => void }) => {\r\n    e.preventDefault()\r\n    console.log(chatMessage)\r\n    firestore.collection('messages').add({\r\n      uid: user?.uid,\r\n      displayName: user?.displayName,\r\n      photoUrl: user?.photoURL,\r\n      text: chatMessage,\r\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n    })\r\n    setChatMessage('')\r\n  }\r\n  if (loading) <Spinner />\r\n\r\n  useEffect(() => {\r\n    const sum = (a: number) => {\r\n      let cs = a\r\n      const f = (b: number) => {\r\n        cs += b\r\n        return f\r\n      }\r\n      f.toString = () => {\r\n        return cs\r\n      }\r\n      return f\r\n    }\r\n    console.log(sum(2)(3)(-2)(26))\r\n  }, [])\r\n  return (\r\n    <>\r\n      <HeaderBanner>\r\n        <Canvas width=\"100%\" height=\"250px\" border=\"1px solid red\" />\r\n        <></>\r\n      </HeaderBanner>\r\n      <h1>Chat</h1>\r\n      <div>\r\n        {messages?.map((item) => (\r\n          <Fragment key={item.text}>\r\n            <img src={item.photoUrl} alt=\"\" style={{ borderRadius: '50%' }} />\r\n            <p>\r\n              {item.text} - {item.displayName}\r\n            </p>\r\n          </Fragment>\r\n        ))}\r\n      </div>\r\n      <form action=\"\" id=\"chatForm\" onSubmit={handleSendChatMessage}>\r\n        <textarea\r\n          name=\"\"\r\n          id=\"\"\r\n          onChange={(e) => setChatMessage(e.target.value)}\r\n          value={chatMessage}\r\n          required\r\n        />\r\n        <button type=\"submit\">send</button>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\nexport default Chat\r\n"],"names":["Div","styled","HeaderBanner","children","className","title","descript","dispatch","useAppDispatch","t","useTranslation","keyDownHandler","e","key","unsetAllModal","useEffect","window","scrollTo","document","addEventListener","removeEventListener","__assign","Object","assign","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","defaultState","defaultValue","loading","value","isEqual","v1","v2","bothNull","equal","useCollectionInternal","listen","query","options","_a","getDefaultValue","undefined","useReducer","state","action","type","error","reset","setError","setValue","useMemo","useLoadingValue","ref","onChange","useRef","current","useComparatorRef","useIsEqualRef","listener_1","snapshotListenOptions","onSnapshot","get","getOptions","then","catch","resArray","Canvas","width","height","border","contexRef","submitBlobData","canvas","Promise","resolve","toBlob","imageBlob","formData","FormData","append","d","console","log","style","onMouseMove","ctx","getContext","lineTo","clientX","clientY","stroke","onClick","user","useContext","FirebaseAuthContext","firebase","firestore","useState","chatMessage","setChatMessage","idField","refField","snapshotOptions","transform","snapshots","docs","map","doc","snapshot","exists","data","id","snapshotToData","useCollectionDataInternal","collection","orderBy","messages","handleSendChatMessage","preventDefault","add","uid","displayName","photoUrl","photoURL","text","createdAt","FieldValue","serverTimestamp","Spinner","cs","f","b","toString","sum","item","Fragment","src","alt","borderRadius","onSubmit","name","target","required"],"sourceRoot":""}