"use strict";(self.webpackChunk_35_fit=self.webpackChunk_35_fit||[]).push([[187],{6419:(n,e,t)=>{t.d(e,{b:()=>f});var r,o=t(168),i=t(7294),a=t(4478),u=t(9163),s=t(7170),c=t(5906),l=t(5893),d=u.ZP.div(r||(r=(0,o.Z)(["\n  section {\n    padding-top: 144px;\n  }\n\n  h1 {\n    font-size: 36px;\n    margin-bottom: 40px;\n  }\n\n  p {\n    max-width: 400px;\n    font-size: 18px;\n    padding-bottom: 70px;\n  }\n  \n  &.main h1 {\n    margin-bottom: 120px;\n    text-transform: uppercase;\n    text-align: center;\n    @media (min-width: 993px) {\n      margin-bottom: 210px;\n    }\n  }\n  \n  @media (max-width: 992px) {\n    section {\n      h3 {\n        font-size: 16px;\n      }\n    }\n  }\n  \n  @media (min-width: 993px) {\n    section {\n      padding-top: 170px;\n      h1 {\n        font-size: 48px;\n      }\n      h3 {\n        padding-bottom: 140px;\n      }\n    }\n  }\n"]))),f=function(n){var e=n.children,t=n.className,r=n.title,o=n.descript,u=(0,s.TL)(),f=(0,a.$)().t,p=function(n){"Escape"===n.key&&u((0,c.as)())};return(0,i.useEffect)((function(){return window.scrollTo(0,0),document.addEventListener("keydown",(function(n){return p(n)})),function(){document.removeEventListener("keydown",p),u((0,c.as)())}}),[]),(0,l.jsx)(d,{className:"header_banner ".concat(t),children:(0,l.jsxs)("section",{className:"section",children:[(0,l.jsx)("h1",{className:"b900 blue",children:f(r)}),o&&(0,l.jsx)("p",{className:"grey",children:f(o)}),e]})})}},7187:(n,e,t)=>{t.r(e),t.d(e,{default:()=>y});var r=t(8152),o=t(5861),i=t(7757),a=t.n(i),u=t(7294),s=t(6419),c=t(696),l=t(9e3),d=function(){return d=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},d.apply(this,arguments)},f=function(n){return{loading:null==n,value:n}},p=function(n,e){var t=!n&&!e,r=!!n&&!!e&&n.isEqual(e);return t||r},v=function(n,e,t){var r=function(n){var e=n?n():void 0,t=(0,u.useReducer)((function(n,e){switch(e.type){case"error":return d({},n,{error:e.error,loading:!1,value:void 0});case"reset":return f(e.defaultValue);case"value":return d({},n,{error:void 0,loading:!1,value:e.value});default:return n}}),f(e)),r=t[0],o=t[1],i=function(){var e=n?n():void 0;o({type:"reset",defaultValue:e})},a=function(n){o({type:"error",error:n})},s=function(n){o({type:"value",value:n})};return(0,u.useMemo)((function(){return{error:r.error,loading:r.loading,reset:i,setError:a,setValue:s,value:r.value}}),[r.error,r.loading,i,a,s,r.value])}(),o=r.error,i=r.loading,a=r.reset,s=r.setError,c=r.setValue,l=r.value,v=function(n,e){return function(n,e,t){var r=(0,u.useRef)(n);return(0,u.useEffect)((function(){e(n,r.current)||(r.current=n,t&&t())})),r}(n,p,e)}(e,a);(0,u.useEffect)((function(){if(v.current){if(n){var e=t&&t.snapshotListenOptions?v.current.onSnapshot(t.snapshotListenOptions,c,s):v.current.onSnapshot(c,s);return function(){e()}}v.current.get(t?t.getOptions:void 0).then(c).catch(s)}else c(void 0)}),[v.current]);var h=[l,i,o];return(0,u.useMemo)((function(){return h}),h)},h=t(5893);function m(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return x(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return a=n.done,n},e:function(n){u=!0,i=n},f:function(){try{a||null==t.return||t.return()}finally{if(u)throw i}}}}function x(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var g=function(n){var e=n.width,t=n.height,r=n.border,i=(0,u.useRef)(null),s=function(){var n=(0,o.Z)(a().mark((function n(){var e,t,r,o,u,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.current,n.next=3,new Promise((function(n){return null==e?void 0:e.toBlob(n,"image/png")}));case 3:t=n.sent,(r=new FormData).append("image",t,"image.png"),o=m(r);try{for(o.s();!(u=o.n()).done;)s=u.value,console.log(s,t)}catch(n){o.e(n)}finally{o.f()}case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("canvas",{width:e,height:t,style:{border:r},ref:i,onMouseMove:function(n){var e=i.current,t=null==e?void 0:e.getContext("2d");null==t||t.lineTo(n.clientX,n.clientY),null==t||t.stroke()}}),(0,h.jsx)("input",{type:"button",value:"send blob data",onClick:s})]})};const y=function(n){var e=n.user,t=(0,u.useContext)(l.y),i=t.firebase,d=t.firestore,f=(0,u.useState)(""),p=(0,r.Z)(f,2),m=p[0],x=p[1],y=function(n,e,t){var r=t?t.idField:void 0,o=t?t.refField:void 0,i=t?t.snapshotOptions:void 0,a=t?t.transform:void 0,s=v(n,e,t),c=s[0],l=s[1],d=s[2],f=[(0,u.useMemo)((function(){return c?c.docs.map((function(n){return function(n,e,t,r,o){if(n.exists){var i=n.data(e);return o&&(i=o(i)),t&&(i[t]=n.id),r&&(i[r]=n.ref),i}}(n,i,r,o,a)})):void 0}),[c,i,r,o,a]),l,d];return(0,u.useMemo)((function(){return f}),f)}(!0,d.collection("messages").orderBy("createdAt"),undefined),b=(0,r.Z)(y,2),w=b[0],j=b[1],k=function(){var n=(0,o.Z)(a().mark((function n(t){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.preventDefault(),console.log(m),d.collection("messages").add({uid:null==e?void 0:e.uid,displayName:null==e?void 0:e.displayName,photoUrl:null==e?void 0:e.photoURL,text:m,createdAt:i.firestore.FieldValue.serverTimestamp()}),x("");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return j&&c.$,(0,u.useEffect)((function(){var n,e;console.log((n=2,(e=function e(t){return n+=t,e}).toString=function(){return n},e)(3)(-2)(26))}),[]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(s.b,{children:[(0,h.jsx)(g,{width:"100%",height:"250px",border:"1px solid red"}),(0,h.jsx)(h.Fragment,{})]}),(0,h.jsx)("h1",{children:"Chat"}),(0,h.jsx)("div",{children:null==w?void 0:w.map((function(n){return(0,h.jsxs)(u.Fragment,{children:[(0,h.jsx)("img",{src:n.photoUrl,alt:"",style:{borderRadius:"50%"}}),(0,h.jsxs)("p",{children:[n.text," - ",n.displayName]})]},n.text)}))}),(0,h.jsxs)("form",{action:"",id:"chatForm",onSubmit:k,children:[(0,h.jsx)("textarea",{name:"",id:"",onChange:function(n){return x(n.target.value)},value:m,required:!0}),(0,h.jsx)("button",{type:"submit",children:"send"})]})]})}}}]);
//# sourceMappingURL=187.bundle.js.map